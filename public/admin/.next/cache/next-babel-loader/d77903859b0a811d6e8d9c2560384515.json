{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"E:\\\\icredit\\\\frontend-admin\\\\pages\\\\users.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport Header from '../components/admin/Header';\nimport Footer from '../components/admin/Footer';\nimport swal from \"sweetalert\";\nimport cookie from 'js-cookie';\nimport { useDispatch, connect } from 'react-redux';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\n\nfunction mapStateToProps(state) {\n  return {\n    adminReducer: state.adminReducer\n  };\n}\n\nvar AdminUsers = function AdminUsers(_ref) {\n  _s();\n\n  var _jsxDEV2;\n\n  var adminReducer = _ref.adminReducer;\n  var dispatch = useDispatch();\n\n  var _useState = useState(true),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState([]),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  var _useState3 = useState(''),\n      edit = _useState3[0],\n      setEdit = _useState3[1];\n\n  var _useState4 = useState({\n    id: null,\n    name: null,\n    email: null,\n    role_id: null\n  }),\n      userDate = _useState4[0],\n      setUserDate = _useState4[1];\n\n  var _useState5 = useState({\n    name: null,\n    email: null,\n    password: 'icredit123',\n    role_id: 2\n  }),\n      newUser = _useState5[0],\n      setNewUser = _useState5[1];\n\n  var _useState6 = useState(false),\n      showModal = _useState6[0],\n      setShowModal = _useState6[1];\n\n  var finalUser = users.filter(function (user) {\n    return user.id !== adminReducer.user.id;\n  });\n\n  var handleClose = function handleClose() {\n    setShowModal(false);\n    setNewUser({\n      name: null,\n      email: null,\n      password: 'icredit123',\n      role_id: 2\n    });\n  };\n\n  var handleShow = function handleShow() {\n    return setShowModal(true);\n  };\n\n  var getUser = function getUser() {\n    axios.get(\"\".concat(process.env.BASE_URL, \"/users\"), {\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      setUsers(res.data);\n      setLoading(false);\n    });\n  };\n\n  useEffect(function () {\n    getUser();\n  }, []);\n\n  var editAccount = function editAccount(id) {\n    setEdit(id);\n    var user = users.filter(function (user) {\n      return user.id === id;\n    });\n    setUserDate({\n      id: id,\n      name: user[0].name,\n      email: user[0].email,\n      role_id: user[0].role_id\n    });\n  };\n\n  var userAdd = function userAdd(e) {\n    axios.post(\"\".concat(process.env.BASE_URL, \"/users\"), {\n      name: newUser.name,\n      email: newUser.email,\n      password: newUser.password,\n      role_id: newUser.role_id,\n      token: cookie.get('admin_token')\n    }, {\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      if (res.data.success) {\n        dispatch({\n          type: 'ADM_SUCCESS_MESSAGE',\n          payload: res.data.message\n        });\n        getUser();\n        handleClose();\n      } else {\n        dispatch({\n          type: 'ADM_ERROR_MESSAGE',\n          payload: res.data.message\n        });\n      }\n    });\n    e.preventDefault();\n  };\n\n  var saveEdit = function saveEdit() {\n    axios.put(\"\".concat(process.env.BASE_URL, \"/edit\"), {\n      token: cookie.get('admin_token'),\n      email: userDate.email,\n      name: userDate.name,\n      role_id: userDate.role_id,\n      user_id: userDate.id\n    }, {\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      if (res.data.success) {\n        dispatch({\n          type: 'ADM_SUCCESS_MESSAGE',\n          payload: res.data.message\n        });\n        setEdit('');\n        getUser();\n      } else {\n        dispatch({\n          type: 'ADM_ERROR_MESSAGE',\n          payload: res.data.message\n        });\n        getUser();\n      }\n    });\n  };\n\n  var deleteAccount = function deleteAccount(id) {\n    swal({\n      title: 'Вы уверены, что хотите удалить пользователя',\n      buttons: {\n        \"catch\": {\n          text: 'Да',\n          value: 'yes'\n        },\n        cancel: 'Нет'\n      }\n    }).then(function (value) {\n      switch (value) {\n        case 'yes':\n          axios.get(\"\".concat(process.env.BASE_URL, \"/deleteAccount?token=\").concat(cookie.get('admin_token'), \"&user_id=\").concat(id), {\n            headers: {\n              'Access-Control-Allow-Origin': '*'\n            }\n          }).then(function (response) {\n            if (response.data.success) {\n              dispatch({\n                type: 'ADM_SUCCESS_MESSAGE',\n                payload: response.data.message\n              });\n              getUser();\n            } else {\n              dispatch({\n                type: 'ADM_ERROR_MESSAGE',\n                payload: response.data.message\n              });\n            }\n          });\n      }\n    });\n  };\n\n  var cancelEdit = function cancelEdit() {\n    setEdit('');\n    getUser();\n  };\n\n  var userTable = function userTable(edit, user, index) {\n    if (edit === user.id) {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          scope: \"row\",\n          children: index + 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: function onChange(e) {\n              return setUserDate({\n                id: userDate.id,\n                name: e.target.value,\n                email: userDate.email,\n                role_id: userDate.role_id\n              });\n            },\n            value: userDate.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: function onChange(e) {\n              return setUserDate({\n                id: userDate.id,\n                name: userDate.name,\n                email: e.target.value,\n                role_id: userDate.role_id\n              });\n            },\n            value: userDate.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: function onChange(e) {\n              return setUserDate({\n                id: userDate.id,\n                name: userDate.name,\n                email: userDate.email,\n                role_id: e.target.value\n              });\n            },\n            value: userDate.role_id,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"1\",\n              children: \"Admin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 163\n            }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"2\",\n              children: \"Moderator\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 195\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success mr-2\",\n            onClick: function onClick() {\n              return saveEdit();\n            },\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            onClick: function onClick() {\n              return cancelEdit();\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }, _this)]\n      }, userDate.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, _this);\n    } else return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n        scope: \"row\",\n        children: index + 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: user.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: user.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: user.role_id === 1 ? 'Admin' : 'Moderator'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success mr-2\",\n          disabled: adminReducer.user.role_id === 1 ? false : true,\n          onClick: function onClick() {\n            return editAccount(user.id);\n          },\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger\",\n          disabled: adminReducer.user.role_id === 1 ? false : true,\n          onClick: function onClick() {\n            return deleteAccount(user.id);\n          },\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, _this)]\n    }, user.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"main\", {\n      role: \"main\",\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        \"class\": \"panel important\",\n        children: [loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\u0417\\u0430\\u0433\\u0443\\u0437\\u043A\\u0430...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 16\n        }, _this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex mb-3 justify-content-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Users\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 7\n            }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-info\",\n              onClick: handleShow,\n              disabled: adminReducer.user.role_id === 1 ? false : true,\n              children: [\"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 138\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 9\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-striped\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"#\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 17\n                }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"\\u0418\\u043C\\u044F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 17\n                }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Username\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 17\n                }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"\\u0420\\u043E\\u043B\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 17\n                }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 17\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 15\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 13\n            }, _this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: finalUser.map(function (user, index) {\n                return userTable(edit, user, index);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 13\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 5\n        }, _this), /*#__PURE__*/_jsxDEV(Modal, {\n          isOpen: showModal,\n          toggle: function toggle() {\n            return handleClose(showModal);\n          },\n          size: \"md\",\n          children: /*#__PURE__*/_jsxDEV(ModalBody, {\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"form-group\",\n              onSubmit: function onSubmit(e) {\n                return userAdd(e);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: function onChange(e) {\n                  return setNewUser({\n                    password: newUser.password,\n                    name: e.target.value,\n                    email: newUser.email,\n                    role_id: newUser.role_id\n                  });\n                },\n                value: newUser.name,\n                className: \"input-group mb-2\",\n                type: \"text\",\n                placeholder: \"\\u0418\\u043C\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 23\n              }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: function onChange(e) {\n                  return setNewUser({\n                    password: newUser.password,\n                    name: newUser.name,\n                    email: e.target.value,\n                    role_id: newUser.role_id\n                  });\n                },\n                value: newUser.email,\n                className: \"input-group mt-2\",\n                type: \"text\",\n                placeholder: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 23\n              }, _this), /*#__PURE__*/_jsxDEV(\"select\", (_jsxDEV2 = {\n                onChange: function onChange(e) {\n                  return setNewUser({\n                    password: newUser.password,\n                    name: newUser.name,\n                    email: newUser.email,\n                    role_id: e.target.value\n                  });\n                },\n                value: newUser.email\n              }, _defineProperty(_jsxDEV2, \"value\", newUser.role_id), _defineProperty(_jsxDEV2, \"className\", \"input-group mt-2\"), _defineProperty(_jsxDEV2, \"children\", [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1\",\n                children: \"Admin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 232\n              }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"2\",\n                children: \"Moderator\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 264\n              }, _this)]), _jsxDEV2), void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 23\n              }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-info mt-2\",\n                disabled: adminReducer.user.role_id === 1 ? false : true,\n                children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 23\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 21\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 18\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 7\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(AdminUsers, \"QlVeXyQLuK/TR0+mQQDeZcaX5E0=\", false, function () {\n  return [useDispatch];\n});\n\n_c = AdminUsers;\nexport default connect(mapStateToProps)(AdminUsers);\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminUsers\");","map":{"version":3,"sources":["E:/icredit/frontend-admin/pages/users.js"],"names":["axios","React","useState","useEffect","Header","Footer","swal","cookie","useDispatch","connect","Modal","ModalHeader","ModalBody","mapStateToProps","state","adminReducer","AdminUsers","dispatch","loading","setLoading","users","setUsers","edit","setEdit","id","name","email","role_id","userDate","setUserDate","password","newUser","setNewUser","showModal","setShowModal","finalUser","filter","user","handleClose","handleShow","getUser","get","process","env","BASE_URL","headers","then","res","data","editAccount","userAdd","e","post","token","success","type","payload","message","preventDefault","saveEdit","put","user_id","deleteAccount","title","buttons","text","value","cancel","response","cancelEdit","userTable","index","target","map"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, {useState, useEffect} from 'react';\r\nimport Header from '../components/admin/Header'\r\nimport Footer from '../components/admin/Footer'\r\nimport swal from \"sweetalert\";\r\nimport cookie from 'js-cookie'\r\nimport {useDispatch, connect} from 'react-redux'\r\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\r\n\r\nfunction mapStateToProps(state) {\r\n  return {adminReducer:state.adminReducer}\r\n}\r\nconst AdminUsers = ({adminReducer}) => {\r\n    const dispatch = useDispatch();\r\n    const [loading,setLoading] = useState(true);\r\n    const [users, setUsers] = useState([])\r\n    const [edit,setEdit] = useState('')\r\n    const [userDate,setUserDate] = useState({id: null,name: null, email: null, role_id: null})\r\n    const [newUser, setNewUser] = useState({name: null, email: null, password: 'icredit123', role_id: 2})\r\n    const [showModal, setShowModal] = useState(false);\r\n\r\n    const finalUser = users.filter(user=>user.id !== adminReducer.user.id);\r\n    const handleClose = () => {\r\n      setShowModal(false)\r\n      setNewUser({name: null, email: null, password: 'icredit123', role_id: 2})\r\n    };\r\n    const handleShow = () => setShowModal(true);\r\n    const getUser = () => {\r\n      axios.get(`${process.env.BASE_URL}/users`, {headers: {\r\n        'Access-Control-Allow-Origin': '*',\r\n        'Content-Type': 'application/json'\r\n      }})\r\n            .then(res => {\r\n                setUsers(res.data)\r\n                setLoading(false)\r\n            })\r\n    }\r\n    useEffect(() => {\r\n      getUser()\r\n    },[])\r\n\r\n    \r\n    const editAccount = (id) => {\r\n      setEdit(id);\r\n      const user = users.filter(user=>user.id === id);\r\n      setUserDate({id: id,name: user[0].name,email: user[0].email, role_id: user[0].role_id})\r\n    }\r\n\r\n\r\n    const userAdd = (e) => {\r\n      axios.post(`${process.env.BASE_URL}/users`, {\r\n        name: newUser.name,\r\n        email: newUser.email,\r\n        password: newUser.password,\r\n        role_id: newUser.role_id,\r\n        token: cookie.get('admin_token')\r\n      }, {headers: {\r\n          'Access-Control-Allow-Origin': '*',\r\n          'Content-Type': 'application/json'\r\n        }})\r\n        .then(res=> {\r\n          if(res.data.success) {\r\n            dispatch({type: 'ADM_SUCCESS_MESSAGE', payload: res.data.message})\r\n            getUser()\r\n            handleClose()\r\n          }else {\r\n              dispatch({type: 'ADM_ERROR_MESSAGE', payload: res.data.message})\r\n          }\r\n        })\r\n     \r\n      e.preventDefault()\r\n    }\r\n    const saveEdit = () => {\r\n      axios.put(`${process.env.BASE_URL}/edit`, {\r\n        token: cookie.get('admin_token'),\r\n        email: userDate.email,\r\n        name: userDate.name,\r\n        role_id: userDate.role_id,\r\n        user_id: userDate.id\r\n      }, {headers: {\r\n          'Access-Control-Allow-Origin': '*',\r\n          'Content-Type': 'application/json'\r\n        }})\r\n        .then(res => {\r\n          if(res.data.success) {\r\n            dispatch({type: 'ADM_SUCCESS_MESSAGE', payload: res.data.message})\r\n            setEdit('')\r\n            getUser()\r\n          }else {\r\n            dispatch({type: 'ADM_ERROR_MESSAGE', payload: res.data.message})\r\n            getUser()\r\n          }\r\n        })\r\n    }\r\n    const deleteAccount = (id) => {\r\n      swal({\r\n          title: 'Вы уверены, что хотите удалить пользователя',\r\n          buttons:{\r\n            catch:{\r\n              text: 'Да',\r\n              value: 'yes'\r\n            },\r\n            cancel: 'Нет'\r\n          }\r\n        }).then(value=>{\r\n          switch (value){\r\n            case 'yes':\r\n              axios.get(`${process.env.BASE_URL}/deleteAccount?token=${cookie.get('admin_token')}&user_id=${id}` ,{headers: {'Access-Control-Allow-Origin': '*'}})\r\n              .then(response => {\r\n                if(response.data.success) {\r\n                  dispatch({type: 'ADM_SUCCESS_MESSAGE', payload: response.data.message})\r\n                  getUser()\r\n                }else {\r\n                    dispatch({type: 'ADM_ERROR_MESSAGE', payload: response.data.message})\r\n                }\r\n              })\r\n          }\r\n        })\r\n    }\r\n\r\n    const cancelEdit = () => {\r\n      setEdit('');\r\n      getUser()\r\n    }\r\n\r\n    const userTable = (edit, user, index) => {\r\n      if(edit === user.id) {\r\n        return(\r\n          <tr key={userDate.id}>\r\n        <th scope=\"row\">{index+1}</th>\r\n        <td><input onChange={(e) => setUserDate({id: userDate.id,name: e.target.value, email: userDate.email, role_id: userDate.role_id})} value={userDate.name}/></td>\r\n        <td><input onChange={(e) => setUserDate({id: userDate.id,name: userDate.name, email: e.target.value, role_id: userDate.role_id})}  value={userDate.email}/></td>\r\n        <td><select onChange={(e) => setUserDate({id: userDate.id,name: userDate.name, email: userDate.email, role_id: e.target.value})} value={userDate.role_id}><option value='1'>Admin</option><option value='2'>Moderator</option></select></td>\r\n        <td>\r\n            <button className='btn btn-success mr-2' onClick={() => saveEdit()}>Save</button>\r\n            <button className='btn btn-danger' onClick={() => cancelEdit()}>Cancel</button>\r\n        </td>\r\n     </tr>  \r\n        )\r\n      }\r\n      else return(\r\n        <tr key={user.id}>\r\n        <th scope=\"row\">{index+1}</th>\r\n        <td>{user.name}</td>\r\n        <td>{user.email}</td>\r\n        <td>{user.role_id === 1 ? 'Admin'  :'Moderator'}</td>\r\n        <td>\r\n            <button className='btn btn-success mr-2' disabled={adminReducer.user.role_id===1 ? false : true} onClick={() => editAccount(user.id)}>Edit</button>\r\n            <button className='btn btn-danger' disabled={adminReducer.user.role_id===1 ? false : true} onClick={() => deleteAccount(user.id)}>Delete</button>\r\n        </td>\r\n      </tr>\r\n      )\r\n      \r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <main role=\"main\">\r\n     <section class=\"panel important\">\r\n         \r\n    {loading ? <div>Загузка...</div> :\r\n    <div className='container'>\r\n      <div className='d-flex mb-3 justify-content-between'>\r\n      <h2>Users</h2>\r\n        <button className='btn btn-info' onClick={handleShow} disabled={adminReducer.user.role_id===1 ? false : true}>Новый пользователь <b>+</b></button>\r\n      </div>\r\n       \r\n            <table className=\"table table-striped\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">#</th>\r\n                <th scope=\"col\">Имя</th>\r\n                <th scope=\"col\">Username</th>\r\n                <th scope=\"col\">Роль</th>\r\n                <th scope='col'>Действие</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n            {finalUser.map((user,index) => (\r\n                userTable(edit,user,index)\r\n            ))}\r\n         \r\n              \r\n            </tbody>\r\n          </table>\r\n        \r\n    </div>\r\n    }\r\n      <Modal  isOpen={showModal} toggle={()=>handleClose(showModal)}   size=\"md\">\r\n                 <ModalBody>\r\n                    <form className='form-group' onSubmit={e => userAdd(e)}>\r\n                      <input onChange={(e) => setNewUser({password: newUser.password,name: e.target.value, email: newUser.email, role_id: newUser.role_id})} value={newUser.name} className='input-group mb-2' type='text' placeholder='Имя' />\r\n                      <input onChange={(e) => setNewUser({password: newUser.password,name: newUser.name, email: e.target.value, role_id: newUser.role_id})} value={newUser.email} className='input-group mt-2' type='text' placeholder='Username' />\r\n                      <select onChange={(e) => setNewUser({password: newUser.password,name: newUser.name, email: newUser.email, role_id: e.target.value})} value={newUser.email}  value={newUser.role_id} className='input-group mt-2'><option value='1'>Admin</option><option value='2'>Moderator</option></select>\r\n                      <button className='btn btn-info mt-2' disabled={adminReducer.user.role_id===1 ? false : true}>Добавить</button>\r\n                    </form>\r\n                 </ModalBody>\r\n\t\t\t</Modal>\r\n            \r\n            </section>\r\n            </main>\r\n            <Footer />\r\n        </div>\r\n    )   \r\n}\r\nexport default connect(mapStateToProps)(AdminUsers)"]},"metadata":{},"sourceType":"module"}
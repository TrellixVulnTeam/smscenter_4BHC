{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport cookie from 'js-cookie';\nimport Router from 'next/router';\nimport { useDispatch } from 'react-redux';\nimport Flash from '../components/admin/FlashMessage';\n\nfunction AdminLogin() {\n  var _useState = useState(''),\n      password = _useState[0],\n      setPassword = _useState[1];\n\n  var _useState2 = useState(''),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var dispatch = useDispatch();\n\n  var handleLogin = function handleLogin(e) {\n    axios.post(\"\".concat(process.env.BASE_URL, \"/login\"), {\n      password: password,\n      email: email\n    }, {\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      if (res.data.success) {\n        cookie.set('admin_token', res.data.token, {\n          expires: 60\n        });\n        Router.push('/smscenter');\n      } else {\n        dispatch({\n          type: 'ADM_ERROR_MESSAGE',\n          payload: res.data.message\n        });\n      }\n    });\n    e.preventDefault(); // console.log(email)\n  };\n\n  useEffect(function () {\n    if (cookie.get('admin_token')) {\n      Router.push('/');\n    }\n  });\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"admloginpage\",\n    children: [/*#__PURE__*/_jsx(Flash, {}), /*#__PURE__*/_jsx(\"div\", {\n      className: \"container \",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"col-lg-3 col-md-2\"\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"col-lg-6 col-md-8 admlogin-box\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-12 admlogin-key\",\n            children: /*#__PURE__*/_jsx(\"i\", {\n              className: \"fa fa-key\",\n              \"aria-hidden\": \"true\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-12 admlogin-title\",\n            children: \"ADMIN PANEL\"\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-12 admlogin-form\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"col-lg-12 admlogin-form\",\n              children: /*#__PURE__*/_jsxs(\"form\", {\n                onSubmit: function onSubmit(e) {\n                  handleLogin(e);\n                },\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: \"admform-group\",\n                  children: [/*#__PURE__*/_jsx(\"label\", {\n                    className: \"admform-control-label\",\n                    children: \"USERNAME\"\n                  }), /*#__PURE__*/_jsx(\"input\", {\n                    type: \"text\",\n                    autoComplete: \"off\",\n                    onChange: function onChange(e) {\n                      return setEmail(e.target.value);\n                    },\n                    value: email,\n                    className: \"form-control\"\n                  })]\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"admform-group\",\n                  children: [/*#__PURE__*/_jsx(\"label\", {\n                    className: \"admform-control-label\",\n                    children: \"PASSWORD\"\n                  }), /*#__PURE__*/_jsx(\"input\", {\n                    type: \"password\",\n                    onChange: function onChange(e) {\n                      return setPassword(e.target.value);\n                    },\n                    value: password,\n                    className: \"form-control\",\n                    i: true\n                  })]\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"col-lg-12 admloginbttm\",\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    className: \"col-lg-6 admlogin-btm admlogin-text\"\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    className: \"col-lg-6 admlogin-btm admlogin-button\",\n                    children: /*#__PURE__*/_jsx(\"button\", {\n                      type: \"submit\",\n                      className: \"btn admbtn-outline-primary\",\n                      children: \"LOGIN\"\n                    })\n                  })]\n                })]\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-3 col-md-2\"\n          })]\n        })]\n      })\n    })]\n  });\n}\n\nexport default AdminLogin;","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { connect } from 'react-redux';\nimport cookie from 'js-cookie';\nimport axios from 'axios';\nimport Flash from './FlashMessage';\n\nfunction mapStateToProps(state) {\n  return {\n    adminReducer: state.adminReducer\n  };\n}\n\nvar Header = function Header(_ref) {\n  var adminReducer = _ref.adminReducer;\n  var router = useRouter();\n\n  var handleLogout = function handleLogout() {\n    axios.get(\"\".concat(process.env.BASE_URL, \"/logout?email=\").concat(adminReducer.user.email), {\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      router.push('/login');\n      cookie.remove('admin_token');\n    });\n  };\n\n  useEffect(function () {\n    if (cookie.get('admin_token') === undefined) {\n      router.push('/login');\n    }\n  }, []);\n\n  if (adminReducer.user.name === null) {\n    /*#__PURE__*/\n    _jsx(\"div\", {\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Flash, {}), /*#__PURE__*/_jsxs(\"header\", {\n      role: \"banner\",\n      children: [/*#__PURE__*/_jsx(\"h1\", {\n        children: /*#__PURE__*/_jsx(\"a\", {\n          className: \"logo\",\n          href: \"/\",\n          children: \"I-credit\"\n        })\n      }), /*#__PURE__*/_jsxs(\"ul\", {\n        className: \"utilities\",\n        children: [/*#__PURE__*/_jsx(\"li\", {\n          className: \"users\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            className: \"logo\",\n            href: \"/\",\n            children: adminReducer.user.name\n          })\n        }), /*#__PURE__*/_jsx(\"li\", {\n          className: \"logout warn\",\n          onClick: handleLogout,\n          children: /*#__PURE__*/_jsx(\"a\", {\n            href: true,\n            children: \"Log Out\"\n          })\n        })]\n      })]\n    }), /*#__PURE__*/_jsx(\"nav\", {\n      role: \"navigation\",\n      children: /*#__PURE__*/_jsxs(\"ul\", {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsx(\"li\", {\n          className: \"edit\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            className: router.pathname === '/smscenter' ? 'active' : '',\n            href: \"smscenter\",\n            children: \"SMS-Center\"\n          })\n        }), /*#__PURE__*/_jsx(\"li\", {\n          className: \"comments\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            className: router.pathname === '/telegram' ? 'active' : '',\n            href: \"telegram\",\n            children: \"Telegram\"\n          })\n        }), /*#__PURE__*/_jsx(\"li\", {\n          className: \"users\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            className: router.pathname === '/users' ? 'active' : '',\n            href: \"users\",\n            children: \"Manage Users\"\n          })\n        })]\n      })\n    })]\n  });\n};\n\nexport default connect(mapStateToProps)(Header);","map":null,"metadata":{},"sourceType":"module"}
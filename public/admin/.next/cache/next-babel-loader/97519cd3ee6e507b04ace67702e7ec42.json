{"ast":null,"code":"import cookie from 'js-cookie';\nexport const fetchAdmin = () => dispatch => {\n  dispatch({\n    type: 'AUTHENTICATING_ADMIN'\n  });\n  fetch(`${process.env.BASE_URL}/getProfile?token=${cookie.get('admin_token')}`, {\n    method: 'GET',\n    'Access-Control-Allow-Origin': '*',\n    'Content-Type': 'application/json'\n  }).then(response => {\n    if (response.ok) {\n      return response;\n    }\n\n    const error = new Error(`Error ${response.status}: ${response.statusText}`);\n    error.response = response;\n    throw error;\n  }, error => {\n    const errmess = new Error(error.message);\n    throw errmess;\n  }).then(response => response.json()).then(data => {\n    if (data.success) {\n      dispatch({\n        type: 'SET_CURRENT_ADMIN',\n        payload: data\n      });\n    } else {\n      cookie.remove('admin_token');\n    }\n  }).catch(error => {\n    cookie.remove('admin_token');\n    console.log(error.message || 'Error');\n  });\n};","map":null,"metadata":{},"sourceType":"module"}
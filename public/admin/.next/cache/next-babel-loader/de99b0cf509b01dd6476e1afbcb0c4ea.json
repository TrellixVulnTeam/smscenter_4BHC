{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"E:\\\\icredit\\\\frontend-admin\\\\components\\\\admin\\\\Header.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { connect } from 'react-redux';\nimport cookie from 'js-cookie';\nimport axios from 'axios';\nimport Flash from './FlashMessage';\n\nfunction mapStateToProps(state) {\n  return {\n    adminReducer: state.adminReducer\n  };\n}\n\nvar Header = function Header(_ref) {\n  _s();\n\n  var adminReducer = _ref.adminReducer;\n  var router = useRouter();\n\n  var handleLogout = function handleLogout() {\n    axios.get(\"\".concat(process.env.BASE_URL, \"/logout?email=\").concat(adminReducer.user.email), {\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      router.push('/login');\n      cookie.remove('admin_token');\n    });\n  };\n\n  useEffect(function () {\n    if (cookie.get('admin_token') === undefined) {\n      router.push('/login');\n    }\n  }, []);\n\n  if (adminReducer.user.name === null) {\n    /*#__PURE__*/\n    _jsxDEV(\"div\", {\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, _this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Flash, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(\"header\", {\n      role: \"banner\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"logo\",\n          href: \"/\",\n          children: \"I-credit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 15\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"utilities\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"users\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"logo\",\n            href: \"/\",\n            children: adminReducer.user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 35\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"logout warn\",\n          onClick: handleLogout,\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: true,\n            children: \"Log Out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 65\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      role: \"navigation\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"edit\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: router.pathname === '/smscenter' ? 'active' : '',\n            href: \"smscenter\",\n            children: \"SMS-Center\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 34\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"comments\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: router.pathname === '/telegram' ? 'active' : '',\n            href: \"telegram\",\n            children: \"Telegram\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 38\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"users\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: router.pathname === '/users' ? 'active' : '',\n            href: \"users\",\n            children: \"Manage Users\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 35\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(Header, \"vQduR7x+OPXj6PSmJyFnf+hU7bg=\", false, function () {\n  return [useRouter];\n});\n\n_c = Header;\nexport default connect(mapStateToProps)(Header);\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["E:/icredit/frontend-admin/components/admin/Header.js"],"names":["React","useEffect","useRouter","connect","cookie","axios","Flash","mapStateToProps","state","adminReducer","Header","router","handleLogout","get","process","env","BASE_URL","user","email","headers","then","res","push","remove","undefined","name","pathname"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\r\nimport { useRouter } from 'next/router'\r\nimport {connect} from 'react-redux';\r\nimport cookie from 'js-cookie'\r\nimport axios from 'axios';\r\nimport Flash from './FlashMessage'\r\n\r\nfunction mapStateToProps(state) {\r\n  return {adminReducer:state.adminReducer}\r\n}\r\nconst Header = ({adminReducer}) => {\r\n    const router = useRouter()\r\n\r\n\r\n    const handleLogout = () => {\r\n      axios.get(`${process.env.BASE_URL}/logout?email=${adminReducer.user.email}`,{headers: {\r\n        'Access-Control-Allow-Origin': '*',\r\n        'Content-Type': 'application/json'\r\n      }})\r\n        .then(res=> {\r\n          router.push('/login')\r\n          cookie.remove('admin_token')\r\n        })\r\n    }\r\n    useEffect(() => {\r\n      if(cookie.get('admin_token') === undefined) {\r\n        router.push('/login')\r\n      }\r\n    }, [])\r\n    if(adminReducer.user.name=== null) {\r\n      <div>Загрузка...</div>\r\n    }\r\n    return (\r\n        <>\r\n        <Flash />\r\n        <header role=\"banner\">\r\n          <h1><a className='logo' href='/'>I-credit</a></h1>\r\n          <ul className=\"utilities\">\r\n            <li className=\"users\"><a className='logo' href=\"/\">{adminReducer.user.name}</a></li>\r\n            <li className=\"logout warn\"  onClick={handleLogout}><a href>Log Out</a></li>\r\n          </ul>\r\n        </header>\r\n        <nav role=\"navigation\">\r\n          <ul className=\"main\">\r\n            {/* <li className=\"dashboard\"><a href=\"#\">Dashboard</a></li> */}\r\n            {/* <li className=\"write\"><a href=\"#\">Write Post</a></li> */}\r\n            <li className=\"edit\"><a  className={router.pathname==='/smscenter' ? 'active' : ''} href=\"smscenter\">SMS-Center</a></li>\r\n            <li className=\"comments\"><a className={router.pathname==='/telegram' ? 'active' : ''} href=\"telegram\">Telegram</a></li>\r\n            <li className=\"users\"><a className={router.pathname==='/users' ? 'active' : ''}  href=\"users\">Manage Users</a></li> \r\n          </ul>\r\n        </nav>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);"]},"metadata":{},"sourceType":"module"}
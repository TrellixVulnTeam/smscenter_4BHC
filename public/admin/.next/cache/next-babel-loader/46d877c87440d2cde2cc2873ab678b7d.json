{"ast":null,"code":"import cookie from 'js-cookie';\nexport var fetchAdmin = function fetchAdmin() {\n  return function (dispatch) {\n    dispatch({\n      type: 'AUTHENTICATING_ADMIN'\n    });\n    fetch(\"\".concat(process.env.BASE_URL, \"/getProfile?token=\").concat(cookie.get('admin_token')), {\n      method: 'GET',\n      'Access-Control-Allow-Origin': '*',\n      'Content-Type': 'application/json'\n    }).then(function (response) {\n      if (response.ok) {\n        return response;\n      }\n\n      var error = new Error(\"Error \".concat(response.status, \": \").concat(response.statusText));\n      error.response = response;\n      throw error;\n    }, function (error) {\n      var errmess = new Error(error.message);\n      throw errmess;\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      if (data.success) {\n        dispatch({\n          type: 'SET_CURRENT_ADMIN',\n          payload: data\n        });\n      } else {\n        cookie.remove('admin_token');\n      }\n    })[\"catch\"](function (error) {\n      cookie.remove('admin_token');\n      console.log(error.message || 'Error');\n    });\n  };\n};","map":null,"metadata":{},"sourceType":"module"}